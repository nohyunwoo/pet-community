<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PetLovers - ì‚¬ìš©ì í”„ë¡œí•„</title>
  <link rel="stylesheet" href="/nav.css">
  <link rel="stylesheet" href="/profile.css">
</head>
<body>
  <div th:replace="nav :: navbar"></div>

  <main>
    <div class="container">
      <!-- í”„ë¡œí•„ ì¹´ë“œ -->
      <div class="profile-card" id="profileCard">
        <div class="profile-header">
          <div class="profile-image-container">
            <div class="profile-image" id="profileImage">
              ğŸ¾
            </div>
            <button class="camera-btn" onclick="document.getElementById('imageInput').click()">ğŸ“·</button>
            <input type="file" id="imageInput" class="hidden" accept="image/*" onchange="handleImageUpload(event)">
          </div>

          <div class="profile-info">
            <div class="profile-title">
              <h1 class="username">PetLover123</h1>
              <button class="follow-btn">íŒ”ë¡œìš°</button>
              <button class="save-btn" onclick="saveProfile()">ì €ì¥í•˜ê¸°</button>
            </div>

            <div class="stats">
              <div class="stat-item">
                <div class="stat-number">89</div>
                <div class="stat-label">ê²Œì‹œë¬¼</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">1,234</div>
                <div class="stat-label">íŒ”ë¡œì›Œ</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">567</div>
                <div class="stat-label">íŒ”ë¡œì‰</div>
              </div>
            </div>

            <div class="bio" id="bioText">
              ìš°ë¦¬ ê°•ì•„ì§€ ëª½ì´ì™€ ê³ ì–‘ì´ ë‚˜ë¹„ë¥¼ ì‚¬ë‘í•˜ëŠ” ì§‘ì‚¬ì…ë‹ˆë‹¤! ğŸ•ğŸ± ë§¤ì¼ë§¤ì¼ í–‰ë³µí•œ ìˆœê°„ë“¤ì„ ê³µìœ í•˜ê³  ìˆì–´ìš”.
            </div>
            <textarea class="bio-textarea" id="bioTextarea" rows="4" placeholder="ìê¸°ì†Œê°œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”...">ìš°ë¦¬ ê°•ì•„ì§€ ëª½ì´ì™€ ê³ ì–‘ì´ ë‚˜ë¹„ë¥¼ ì‚¬ë‘í•˜ëŠ” ì§‘ì‚¬ì…ë‹ˆë‹¤! ğŸ•ğŸ± ë§¤ì¼ë§¤ì¼ í–‰ë³µí•œ ìˆœê°„ë“¤ì„ ê³µìœ í•˜ê³  ìˆì–´ìš”.</textarea>

            <div class="profile-meta">
              <div class="meta-item">
                <span>ğŸ“</span>
                <span>ì„œìš¸, ëŒ€í•œë¯¼êµ­</span>
              </div>
              <div class="meta-item">
                <span>ğŸ“…</span>
                <span>2024ë…„ 3ì›”ì— ê°€ì…</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ê°¤ëŸ¬ë¦¬ ì¹´ë“œ -->
      <div class="gallery-card">
        <h2 class="gallery-title">â¤ï¸ ìš°ë¦¬ ì•„ì´ë“¤ ê°¤ëŸ¬ë¦¬</h2>

        <div class="gallery-grid">
          <div class="photo-item">
            <img src="https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=300&h=300&fit=crop" alt="Pet photo">
            <div class="photo-overlay">
              <div class="photo-likes">â¤ï¸ 24</div>
            </div>
          </div>

          <div class="photo-item">
            <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=300&h=300&fit=crop" alt="Pet photo">
            <div class="photo-overlay">
              <div class="photo-likes">â¤ï¸ 18</div>
            </div>
          </div>

          <div class="photo-item">
            <img src="https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=300&h=300&fit=crop" alt="Pet photo">
            <div class="photo-overlay">
              <div class="photo-likes">â¤ï¸ 32</div>
            </div>
          </div>

          <div class="photo-item">
            <img src="https://images.unsplash.com/photo-1552053831-71594a27632d?w=300&h=300&fit=crop" alt="Pet photo">
            <div class="photo-overlay">
              <div class="photo-likes">â¤ï¸ 45</div>
            </div>
          </div>

          <div class="photo-item">
            <img src="https://images.unsplash.com/photo-1574144611937-0df059b5ef3e?w=300&h=300&fit=crop" alt="Pet photo">
            <div class="photo-overlay">
              <div class="photo-likes">â¤ï¸ 28</div>
            </div>
          </div>

          <div class="photo-item">
            <img src="https://images.unsplash.com/photo-1596492784531-6e6eb5ea9993?w=300&h=300&fit=crop" alt="Pet photo">
            <div class="photo-overlay">
              <div class="photo-likes">â¤ï¸ 19</div>
            </div>
          </div>
        </div>

        <div class="load-more">
          <button class="load-more-btn">ë” ë§ì€ ì‚¬ì§„ ë³´ê¸° â¤</button>
        </div>
      </div>
    </div>
  </main> <!-- ğŸ”¥ ì—¬ê¸° ë‹«í˜ ì¶”ê°€ë¨ -->

  <script>
    let isEditing = false;

    function toggleEdit() {
      isEditing = !isEditing;
      const profileCard = document.getElementById('profileCard');

      if (isEditing) {
        profileCard.classList.add('editing');
      } else {
        profileCard.classList.remove('editing');
        document.getElementById('bioTextarea').value = document.getElementById('bioText').textContent;
      }
    }

    function saveProfile() {
      const bioText = document.getElementById('bioTextarea').value;
      document.getElementById('bioText').textContent = bioText;

      console.log('Profile saved:', {
        bio: bioText,
        profileImage: document.getElementById('profileImage').innerHTML
      });

      toggleEdit();

      alert('í”„ë¡œí•„ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');
    }

    function handleImageUpload(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('profileImage').innerHTML =
            `<img src="${e.target.result}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€">`;
        };
        reader.readAsDataURL(file);
      }
    }

    function shareProfile() {
      if (navigator.share) {
        navigator.share({
          title: 'PetLovers - PetLover123ë‹˜ì˜ í”„ë¡œí•„',
          text: 'ìš°ë¦¬ ê°•ì•„ì§€ ëª½ì´ì™€ ê³ ì–‘ì´ ë‚˜ë¹„ë¥¼ ì‚¬ë‘í•˜ëŠ” ì§‘ì‚¬ì˜ í”„ë¡œí•„ì„ í™•ì¸í•´ë³´ì„¸ìš”!',
          url: window.location.href
        });
      } else {
        navigator.clipboard.writeText(window.location.href);
        alert('í”„ë¡œí•„ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      const photoItems = document.querySelectorAll('.photo-item');
      photoItems.forEach(item => {
        item.addEventListener('click', function() {
          console.log('Photo clicked');
        });
      });
    });
  </script>
</body>
</html>
